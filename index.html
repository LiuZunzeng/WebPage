<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trunkline Transportation Optimization For JunLeBao</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
</head>
<body>
    <div class="container">
        <nav class="sidebar">
            <h1>TTO For JunLeBao</h1>
            <input type="text" id="search" placeholder="Search docs" style="width: 100%; padding: 8px; margin-bottom: 20px;">
            <ul>
                <li>
                    <a href="#about" class="toggle">About This Project</a>
                    <ul class="submenu">
                        <li><a href="#github">GitHub Repo</a></li>
                        <li><a href="#mission">Mission</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#math-model" class="toggle">Mathematical Model</a>
                    <ul class="submenu">
                        <li><a href="#indices">Indices</a></li>
                        <li><a href="#constants">Constants</a></li>
                        <li><a href="#decision-variables">Decision Variables</a></li>
                        <li><a href="#intermediate-variables">Intermediate Variables</a></li>
                        <li><a href="#objective-function">Objective Function</a></li>
                        <li><a href="#constraints">Constraints</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#algorithm" class="toggle">Algorithm</a>
                    <ul class="submenu">
                        <li><a href="#split-strategy">Split Strategy</a></li>
                        <li><a href="#improved-hybrid-ga">Improved Hybrid Genetic Algorithm</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#io-interface" class="toggle">Input/Output Interface</a>
                    <ul class="submenu">
                        <li><a href="#input-parameters">Input Parameters</a></li>
                        <li><a href="#output-parameters">Output Parameters</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <main>
            <h1 id="about">About This Project</h1>
            <p>
                This project will be integrated into the TMS system developed by Fuller Information Technology, with both input and output in JSON format.
            </p>
            <h2 id="github">GitHub Repo</h2>
            <p><a href="https://github.com/LiuZunzeng/JunLeBaolatest">https://github.com/LiuZunzeng/JunLeBaolatest</a></p>
            <h2 id="mission">Mission</h2>
            <p>
                This project aims to address the vehicle routing problem considering multiple time window constraints, multi-dimensional capacity constraints, and vehicle-order matching constraints. By using the given order, vehicle, and warehouse information, it calculates the optimal delivery routes.
            </p>

            <h1 id="math-model">Mathematical Model</h1>
            <h2 id="indices">Indices</h2>
            <table border="1">
                <tr><th>集合列表</th><th>含义</th></tr>
                <tr><td>Orders_i</td><td>客户 i 的订单集合，i ∈ D</td></tr>
                <tr><td>days_i</td><td>订单 m 的允许卸货时间集合，m ∈ Orders_i，i ∈ D</td></tr>
                <tr><td>D</td><td>客户集合</td></tr>
                <tr><td>V</td><td>车辆集合</td></tr>
            </table>

            <h2 id="constants">Constants</h2>
            <table border="1">
                <tr><th>常量</th><th>含义</th></tr>
                <tr><td>d_ij</td><td>客户 i 到客户 j 的距离，i, j ∈ D</td></tr>
                <tr><td>speed</td><td>车速</td></tr>
                <tr><td>w_m</td><td>订单 m 的货物总重量</td></tr>
                <tr><td>v_m</td><td>订单 m 的货物总体积</td></tr>
                <tr><td>maxload_k</td><td>车辆 k 的最大载重</td></tr>
                <tr><td>maxvolume_k</td><td>车辆 k 的最大容量</td></tr>
                <tr><td>a_mk ∈ {0,1}</td><td>如果订单 m 可以被车辆 k 运送，则 a_mk = 1，否则为 0</td></tr>
                <tr><td>β_k</td><td>车辆 k 的吨公里费率</td></tr>
                <tr><td>t_ser</td><td>卸一吨货平均需要的时间</td></tr>
                <tr><td>[e_i, l_i]</td><td>客户 i 的卸货时间窗口</td></tr>
            </table>

            <h2 id="decision-variables">Decision Variables</h2>
            <table border="1">
                <tr><th>决策变量</th><th>含义</th></tr>
                <tr><td>x_ijk ∈ {0,1}</td><td>如果车辆 k 经过 arc(i,j)，则 x_ijk = 1，否则为 0</td></tr>
            </table>

            <h2 id="intermediate-variables">Intermediate Variables</h2>
            <table border="1">
                <tr><th>中间变量</th><th>含义</th></tr>
                <tr><td>t_ik</td><td>车辆 k 到达客户 i 的时间点</td></tr>
                <tr><td>u_ik</td><td>车辆 k 访问客户 i 的次序</td></tr>
                <tr><td>z_k</td><td>如果选择车辆 k，则为 1，否则为 0</td></tr>
                <tr><td>y_iday</td><td>如果客户 i 的订单在第 day 天被送达，则为 1，否则为 0</td></tr>
                <tr><td>s_mk</td><td>如果车辆 k 负责订单 m，则为 1，否则为 0</td></tr>
            </table>

            <h2 id="objective-function">Objective Function</h2>
            <p>总费用最低</p>
            <p>Min ∑_{k∈V} β_k ∑_{i∈D} ∑_{j∈D} d_ij x_ijk</p>

            <h2 id="constraints">Constraints</h2>
            <ul>
                <li>每辆车都必须从仓库出发：<br>∑_{j∈D} x_0jk = z_k, ∀k∈V</li>
                <li>每辆车最后必须返回仓库（若不考虑回程，只需把所有回程的距离 d_ij 设置为 0 即可）：<br>∑_{i∈D} x_(i,n+1,k) = z_k, ∀k∈V</li>
                <li>中间节点的进出平衡约束：<br>∑_{i∈D} x_ijk = ∑_{i∈D} x_jik, ∀j∈D, ∀k∈V</li>
                <li>订单处理约束：如果车辆 k 的路线中包含客户 i，且客户 i 包含订单 m，车辆 k 要选择是否处理这个订单：<br>s_mk ≤ ∑_{j∈D} x_ijk, ∀i∈D, ∀k∈V, m∈Orders_i</li>
                <li>每个订单都需要派一辆车进行配送：<br>∑_{k} a_mk s_mk = 1, m∈Orders_i, i∈D</li>
                <li>车辆的载重约束：<br>∑_{m} s_mk w_m ≤ maxload_k, ∀k∈V</li>
                <li>车辆的容量约束：<br>∑_{m} s_mk v_m ≤ maxvolume_k, ∀k∈V</li>
                <li>配送顺序下的时间窗约束：<br>t_ik + t_ser ∑_{m∈Orders_i} s_mk w_m + d_ij/speed ≤ t_jk + M(1 - x_ijk), ∀i∈D, ∀j∈D, ∀k∈V</li>
                <li>MTZ 约束消除子环路：<br>u_ik - u_jk + 1 ≤ M(1 - x_ijk), ∀i∈D, ∀j∈D, ∀k∈V</li>
                <li>卸货时间窗约束：<br>e_i - M*(1 - y_iday) + 24*day ≤ t_ik ≤ l_i + 24*day + M*(1 - y_iday), i∈D, ∀day∈days_i</li>
                <li>每个客户有且只有一个卸货时间窗得到满足：<br>∑_{day} y_iday = 1, i∈D</li>
            </ul>

            <h1 id="algorithm">Algorithm</h1>
            <h2 id="split-strategy">Split Strategy</h2>
            <p>[Content for Split Strategy goes here]</p>
            <h2 id="improved-hybrid-ga">Improved Hybrid Genetic Algorithm</h2>
            <p>[Content for Improved Hybrid Genetic Algorithm goes here]</p>

            <h1 id="io-interface">Input/Output Interface</h1>
            <h2 id="input-parameters">Input Parameters</h2>
            <p>[Content for Input Parameters goes here]</p>
            <h2 id="output-parameters">Output Parameters</h2>
            <p>[Content for Output Parameters goes here]</p>
        </main>
    </div>
</body>
</html>